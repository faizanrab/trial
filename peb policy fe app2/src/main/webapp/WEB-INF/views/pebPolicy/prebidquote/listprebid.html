<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns:th="http://www.thymeleaf.org" layout:decorate="~{BaseLayout/layout}">
<head>
<meta charset="UTF-8">
<title>Pre-bid Quote List Interface</title>
<style>
.loader {
	position: fixed;
	left: 0px;
	top: 0px;
	width: 100%;
	height: 100%;
	z-index: 9999;
	background: url('/common/images/d-loading.gif') 50% 50% no-repeat
		rgb(249, 249, 249);
}
</style>
</head>
<body>
<div id="page-wrapper" layout:fragment="content">
		<div class="loader"></div>
		<nav aria-label="breadcrumb">
			<ol class="breadcrumb">
				<li class="breadcrumb-item"><a href="#">Pre-Bid Quote</a></li>
				<li class="breadcrumb-item active" aria-current="page">List</li>
			</ol>
		</nav>
		<div class="card shadow mb-4 mt-2">
			<!--card header-->
			<div class="card-header py-3 custom-smile-form-header">
				Pre-Bid Quotation List
				<button type="button" class="btn custom-smile-btn-light float-right" data-toggle="modal" data-target="#helpModal">
					<i class="fas fa-question-circle"></i>
				</button>
			</div>
			<!--end of card header-->
			
			<div class="card-body">
				<table class="table table-striped" id="pbList" width="100%">
					<thead>
						<tr>
							<th>Inward Number</th>
							<th>Pre-Bid Id</th>
							<th>Exporter Name</th>
							<th>Buyer Name</th>
							<th>Contract Value</th>
							<th>Payment Country</th>
							<th>View</th>
						</tr>
					</thead>
					
					<tbody>
						<th:block th:each="count : ${listprebid}">
							<tr>
								<td>
									<center><span th:text="${count.inwardNumber}"></span></center>
								</td>
								<td>
									<center><span  th:text="${count.pbId}"></span></center>
								</td>
								<td>
									<center><span th:text="${count.exporterName}"></span></center>
								</td>

								<td>
									<center><span th:text="${count.buyerName}"></span></center>
								</td>
								<td>
									<center><span id="contractValue" th:text="${count.contractValueString}"></span></center>
								</td>
								<td>
									<center><span th:text="${count.paymentCountry}"></span></center>
								</td>
								<td>
									<a class="btn custom-smile-btn-verify mr-1 ml-1" 
										th:href="${'/pebpolicy/viewPrebids/'+{count.pbId}}"> 
										<i class="fas fa-eye"></i>
									</a>
								</td>
							</tr>
						</th:block>
					</tbody>
				</table>

				<div class="modal fade" id="helpModal" role="dialog">
					<div class="modal-dialog modal-lg">
						<div class="modal-content">
							<div class="modal-header bg-light">
								<h4 class="modal-title" style="color: black;">This is Modal For help</h4>
								<button type="button" class="close" data-dismiss="modal">&times;</button>
							</div>
							<div class="modal-body">
								<div class="form-group row">
									<div class="col-sm-12 mb-3 mb-sm-0">Content regarding Help goes here</div>
								</div>
							</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
</div>


<th:block layout:fragment="scripts">
	<!-- Data Tables -->
	<script type="text/javascript" th:src="@{/webjars/startbootstrap-sb-admin-2/vendor/datatables/jquery.dataTables.min.js}"></script>
	<script type="text/javascript" th:src="@{/webjars/startbootstrap-sb-admin-2/vendor/datatables/dataTables.bootstrap4.min.js}"></script>
	<script type="text/javascript" th:src="@{/webjars/datatables-buttons/js/dataTables.buttons.min.js}"></script>
	<script type="text/javascript" th:src="@{/webjars/datatables-buttons/js/buttons.html5.min.js}"></script>
	<script type="text/javascript" th:src="@{/webjars/datatables-buttons/js/buttons.print.min.js}"></script>
	<script type="text/javascript" th:src="@{/js/datatablejs/pdfmake.min.js}"></script>
	<script type="text/javascript" th:src="@{/js/datatablejs/vfs_fonts.js}"></script>
	<script type="text/javascript" th:src="@{/js/exporttable.js}"></script>
	<script type="text/javascript" th:src="@{/js/buttonbootstrap4.js}"></script>
	<script th:inline="javascript">
		$(window).ready(function() {
		      $('.loader').fadeOut(1000);
		      
	    });
		$(document).ready(function(){
			//var link = /*[[@{/pebpolicy/list}]]*/;
			$('#pbList').DataTable({
				
			}); 
			
		});
		/* $(document).ready(function(){
			var rowCount = $('#pbList tr').length;
			 alert("rowCount::"+rowCount);
			 for (var i=0; i< rowCount-1;i++)
				{
				 var cv = document.getElementById("contractValue").innerHTML;
				 alert("cv::"+cv);
				 var convertedContractValue=parseFloat(cv).toFixed(2);
					document.getElementById("contractValue").value=convertedContractValue;
				}
		      
		}); */
		
		
	</script>
</th:block>
	
</body>
</html>